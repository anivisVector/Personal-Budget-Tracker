{% extends "base.html" %}
{% block title %}Budget - Budget Tracker{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 40px auto; padding: 30px; background: #fff; border-radius: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">

  <h2 style="text-align: center; color: #333; margin-bottom: 30px;">ðŸ“Š Set Monthly Budget</h2>

  <form method="POST" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: space-between;">
    <div style="flex: 1 1 45%;">
      <label><strong>Category:</strong></label>
      <select name="category_id" required style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc;">
        <option value="">Select Category</option>
        {% for category in categories %}
          <option value="{{ category.id }}">{{ category.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div style="flex: 1 1 45%;">
      <label><strong>Amount (â‚¹):</strong></label>
      <input type="number" name="amount" required placeholder="e.g., 5000" style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc;" />
    </div>

    <div style="flex: 1 1 45%;">
      <label><strong>Month:</strong></label>
      <select name="month" required style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc;">
        {% for m in range(1, 13) %}
          <option value="{{ m }}">{{ m }}</option>
        {% endfor %}
      </select>
    </div>

    <div style="flex: 1 1 45%;">
      <label><strong>Year:</strong></label>
      <select name="year" required style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #ccc;">
        {% for y in range(2023, 2027) %}
          <option value="{{ y }}">{{ y }}</option>
        {% endfor %}
      </select>
    </div>

    <div style="flex: 1 1 100%; text-align: center; margin-top: 15px;">
      <button type="submit" style="padding: 12px 30px; background-color: #28a745; color: #fff; font-weight: bold; border: none; border-radius: 6px; cursor: pointer;">
        Save Budget
      </button>
    </div>
  </form>

  <hr style="margin: 40px 0;" />

  <h3 style="color: #333; margin-bottom: 20px;">ðŸ“… Your Budgets</h3>
  <div style="overflow-x: auto;">
    <table style="width: 100%; border-collapse: collapse;">
      <thead style="background-color: #f0f0f0;">
        <tr>
          <th style="padding: 10px; text-align: left;">Category</th>
          <th style="padding: 10px; text-align: left;">Amount (â‚¹)</th>
          <th style="padding: 10px; text-align: left;">Month</th>
          <th style="padding: 10px; text-align: left;">Year</th>
        </tr>
      </thead>
      <tbody>
        {% for budget in budgets %}
        <tr style="border-bottom: 1px solid #e0e0e0;">
          <td style="padding: 10px;">{{ budget.name }}</td>
          <td style="padding: 10px;">{{ budget.amount }}</td>
          <td style="padding: 10px;">{{ budget.month }}</td>
          <td style="padding: 10px;">{{ budget.year }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
